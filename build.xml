<?xml version="1.0" encoding="UTF-8"?>
<!-- ====================================================================== 
     08.10.2014 15:57.35                                                        

     project    
     description
                   
     HendrikRasmus                                                                
     ====================================================================== -->
<project name="POS" default="run" basedir=".">
    <description>
            Mentor keerlema POS
    </description>
	
	<property name="src" value="${basedir}/src"/>
	<property name="build" value="${basedir}/build"/>
	<property name="build.resources" value="${build}/resources"/>
	<property name="build.classes" value="${build}/classes"/>
	<property name="dist" value="${build}/jar"/>
	<!--<property name="src" location="${basedir}/src"/>-->
	
	<path id="compile.classpath">
		<fileset dir="lib">
			<include name="*.jar"/>
		</fileset>
	</path> 
	<path id="test.classpath">
		<pathelement location="${build.classes}"/>
			<fileset dir="lib">
				<include name="*.jar"/>
			</fileset>
		<dirset dir="resources" />
		<pathelement path="resoureces" />
		</path>
	
    <target name="build" description="lol">
        <mkdir dir="${build}"/>
    	<mkdir dir="${build.classes}"/>
    	<mkdir dir="${build.resources}"/>
    	<javac srcdir="${src}"
         destdir="${build.classes}"
    		debug="true"
    		debuglevel="lines,vars,source"
    		encoding="utf-8"
    		compiler="modern"
    		target="1.8"
    		source="1.8"
    		includeantruntime="false">
         <classpath refid="compile.classpath"/>
	</javac>
    </target>

    <target name="run" depends="build" description="Jookseb kurja hundi eest">
    	<java classname="ee.ut.math.tvt.mentor_keerlema.Intro" classpathref="test.classpath" fork="yes"/>
    </target>
	

    <target name="revision">
		<propertyfile file="resources/version.properties"/>
    	<buildnumber/>
    	<echo message="${major}.${build.number}"/>
    </target>
	
    <target name="major">
            <propertyfile file="resources/version.properties">
            <entry key="build.revision.number"
            value="1" default="1" type="int" operation="+" pattern="0"/>
            </propertyfile>
    </target>


	
	<target name="clean" description="kustutab asju">
		<delete dir="${build}"/>
		<delete dir="${build.classes}"/>
		<delete dir="${build.resources}"/>
		<delete dir="${dist}"/>
	</target>
	
	<target name="dist" depends="build" description="distribution">
		<mkdir dir="${dist}"/>
		<jar destfile="${dist}/POS.jar" basedir="${build}/classes">
			<manifest>
				<attribute name="Main-Class" value="ee.ut.math.tvt.mentor_keerlema.Intro"/>
			</manifest>
		</jar>
	</target>
	

    <target name="jrun">
    	<java classname="ee.ut.math.tvt.mentor_keerlema.Intro" classpath="${dist}/POS.jar"/>
    </target>

</project>
